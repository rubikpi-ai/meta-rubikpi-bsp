From 8f83dc80f148f4d3d5d6fd352a839a704ba600bf Mon Sep 17 00:00:00 2001
From: Varadarajan Narayanan <quic_varada@quicinc.com>
Date: Thu, 9 Jan 2025 19:44:58 +0530
Subject: [PATCH 17/17] PENDING: mach-snapdragon: update environment variable
 to boot up FIT image

Fit image support for Lemans

Signed-off-by: Varadarajan Narayanan <quic_varada@quicinc.com>
Upstream-Status: Pending
---
 board/qualcomm/default.env | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

diff --git a/board/qualcomm/default.env b/board/qualcomm/default.env
index dbf6f4e726..d376e7432e 100644
--- a/board/qualcomm/default.env
+++ b/board/qualcomm/default.env
@@ -2,10 +2,11 @@ stdin=serial,button-kbd
 stdout=serial,vidconsole
 stderr=serial,vidconsole
 preboot=scsi scan; usb start
+bootargs=root=/dev/disk/by-partlabel/system rw rootwait console=ttyMSM0,115200n8 earlycon
 fastboot=fastboot -l $fastboot_addr_r usb 0
 do_boot=bootefi bootmgr
 bootmenu_0=Boot first available device=run do_boot
 bootmenu_1=Enable fastboot mode=run fastboot
 bootmenu_2=Reset device=reset
 menucmd=bootmenu
-bootcmd=run do_boot
+bootcmd=scsi device 0; scsi read 0xd3500000 0x6 0x4000; bootm 0xd3500000
-- 
2.34.1

